import {cookies, SearchInput, Post, Conversation, Textarea} from './utils.js';

// Handle the autoresize textareas
const postInputEls = document.querySelectorAll("textarea");
postInputEls.forEach((postInputEl) => new Textarea(postInputEl));

// Creating the conversation objects
let conversations = document.querySelectorAll('.conversation');
conversations.forEach(con => new Conversation(con));

// Make the input used to search user dynamic
new SearchInput(document.querySelector('.search-user-input'));

/* We suppose that the cytoscape.min.js file is already import on the template */
// Play with graph generation

const cy = cytoscape({
    container: document.querySelector('.feed.relationship-graph'),
    elements: {
        nodes: [
            {data: {id: '1', label: 'You'}},
            {data: {id: '2', label: 'Matar'}},
            {data: {id: '3', label: 'Adas'}},
            {data: {id: '4', label: 'Ziap'}},
        ],
        edges: [
            {data: {source: '1', target: '2'}},
            {data: {source: '3', target: '1'}},
            {data: {source: '4', target: '2'}},
        ]
    },
    layout: {name: 'cose'},
    style: [
        {
            selector: 'node',
            style: {
                'background-color': 'red',
            }
        }
    ]
});

cy.on('mouseover', 'node', (event) => {
    const node = event.target;
    node.style.color = 'yellow';
})